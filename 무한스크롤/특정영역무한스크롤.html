<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
<style>
    #muScroll {
        width:70%;
        height:300px;
        border: 1px solid black;
        overflow:scroll;
    }
</style>
</head>
<body>
<h1>무한스크롤을 특정 DIV(곧 특정영역에)에 적용</h1>
<div id="muScroll">
    <h1>무한스크롤</h1>
    <h1>무한스크롤</h1>
    <h1>무한스크롤</h1>
    <h1>무한스크롤</h1>
    <h1>무한스크롤</h1>
    <h1>무한스크롤</h1>
    <h1>무한스크롤</h1>
</div>
<script>
    const muScroll= document.querySelector("#muScroll"); 
    
    const fScroll = function(){
        let scrollTop = muScroll.scrollTop;       // 위로 올라간 높이
        let clientHeight = muScroll.clientHeight; // 사용자 눈에 보이는 화면높이
        let scrollHeight = muScroll.scrollHeight; // 문서 전체 높이
        
        const tunningVal = 50;
        // 스크롤바를 끝까지 내렸을 때!
        if( (scrollTop  + clientHeight) >= (scrollHeight - tunningVal) ){
            // 일반적으로 이곳에 AJAX를 이용해서 추가 데이터를 가져와 화면에 추가해줌
            // 없으면 그것으로 끝!, 데이타가 추가 안되면, 스크롤바도 확장안됨!
            
            let addHtml = "";
            for(let i=1; i<=5; i++){
                addHtml += `<h1>무한스크롤 언제 끝날까요? ${i}</h1>`;
            }
            muScroll.innerHTML += addHtml;  // 내용 추가!
        }
        
        /* scrollTop  + clientHeight >= scrollHeight  스크롤바를 끝까지 내렸을 때
        console.log("확인 구분선","=========================================");
        console.log("scrollTop",scrollTop);
        console.log("clientHeight",clientHeight);
        console.log("scrollHeight",scrollHeight);
        */
    }
    muScroll.addEventListener("scroll",fScroll)
</script>    
</body>
</html>
